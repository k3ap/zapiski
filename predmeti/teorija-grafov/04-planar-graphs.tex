\naslov{Planar graphs}

\begin{definition}
  If $G$ is a graph, then the \pojem{drawing} of $G$ into the plane is a
  function $h(x)$ defined on $V(G) \cup E(G)$ such that for every vertex $v$,
  $h(v)$ is a point and for every edge $uv$, $h(uv)$ is a $h(u),h(v)$-curve.
\end{definition}

\begin{remark}
  We can assume without loss of generality that the image of an edge is a
  polygonal curve, so composed of finitely many line segments.
\end{remark}

\begin{definition}
  The \pojem{planar embedding} of a graph $G$ is a drawing where the curves
  corresponding to the edges of $G$ do not intersect, except in common end
  vertices.
\end{definition}

\begin{definition}
  A \pojem{plane graph} is a particular embedding of a planar graph.
\end{definition}

\begin{theorem}[Jordan]
  Every closed simple curve in the plane divides it into exactly two regions, a
  bounded inside region and an unbounded outside region.
\end{theorem}

\begin{definition}
  If $G$ is a plane graph, then a \pojem{face} of $G$ is a maximal region that
  does not contain any points from the image of the embedding function $f$.
\end{definition}

\begin{definition}
  The \pojem{dual graph} $G^*$ of a plane graph $G$ is obtained by switching the
  role of the vertices and faces of $G$, with two faces being connected if and
  only if they share a common border.
  If there are multiple common edges on the boundary between two faces, make
  that many edges.
  If there is an edge which borders twice on the same face, add a loop.
\end{definition}

\begin{remark}
  Two different embeddings of a planar graph may have non-isomorphic dual
  graphs.
\end{remark}

\begin{proposition}
  Dual graphs are always connected.
\end{proposition}

\begin{proposition}
  If $G$ is a connected plane graph, then $(G^*)^* \cong G$.
\end{proposition}

\begin{remark}
  Note that dual graphs are always planar.
\end{remark}

\begin{definition}
  The \pojem{length} $l(F)$ of a face $F$ in a plane graph $G$ is the total
  length of the walk(s) along the boundary of $F$, in units of number of edges.
\end{definition}

\begin{remark}
  With this definition, cut edges are counted twice.
\end{remark}

\begin{remark}
  For any plane graph,
  \[
	\sum_{\text{$F$ face}} l(F) = 2 m(G).
  \]
\end{remark}

\begin{theorem}
  Suppose $G$ is a plane graph.
  The following statements are equivalent:
  \begin{itemize}
  \item $G$ is bipartite,
  \item every face of $G$ has an even length,
  \item $G^*$ is Eulerian (connected and all vertices are of even degree).
  \end{itemize}
\end{theorem}

\begin{proof}
  1 to 2:
  The length of a face is the length of a cycle in $G$, and possibly some cut
  edges, which are counted twice.

  2 to 1:
  Suppose $G$ is not bipartite, so there is an odd cycle $C$.
  Consider the sum of the lengths of faces inside $C$.
  Every edge inside $C$ (but not part of $C$) is counted twice, but every edge
  of $C$ is counted only once.
  So the sum is odd.
  Then there must be a face $F$ in the cycle with an odd length, which is a
  contradiction.

  Equivalence between 2 and 3:
  Note that $G^*$ is connected and $\deg_{G^*}(x) = l(x)$.
\end{proof}

\vprasanje{When is a plane graph bipartite? State two equivalences.}

\begin{theorem}
  If $G$ is a plane graph and $D \subseteq E(G)$, then $D$ is the set of edges
  of a cycle if and only if the corresponding dual edge set $D^*$ is a minimal
  edge cut in $G^*$.
\end{theorem}

\begin{proof}
  Consider three cases.
  \begin{itemize}
  \item If $D$ is exactly the edge set of a cycle $C$, then $D^*$ contains all
	edges between the inside and outside faces of $C$, so it is an edge cut in
	$G^*$ and it is minimal, as the faces inside $C$ are all connected in $G^*$.
  \item If $D$ is a proper subset of the set of edges of a cycle, we can prove
	that $D^*$ is an edge cut, but not minimal.
  \item If $D$ does not contain the edge set of a cycle, we can show that $D^*$
	is not an edge cut. \qedhere
  \end{itemize}
\end{proof}

\begin{definition}
  A planar graph $G$ is \pojem{outerplanar} if there exists an embedding such
  that the boundary of the outer face contains all vertices.
\end{definition}

\begin{theorem}
  If $G$ is a simple outerplanar graph, then $\delta(G) \le 2$.
\end{theorem}

\begin{proof}
  If $n \le 4$, then this is simple casework.
  For $n \ge 4$, we will prove that additionally, there are at least two
  nonadjacent such vertices.
  Induction on $n = n(G)$.
  We covered the base case $n=4$ before, just do the induction step, in which we
  consider two cases.

  In the first case, if there is a cut vertex $v$, then $G-v$ splits into two
  graphs $G_1, G_2$.
  Both $G_1 + v$ and $G_2 + v$, with the original edges from $v$, are
  outerplanar graphs.
  By the induction hypothesis, there are two nonadjacent vertices in $G_1 + v$
  of degree at most $2$, so there is a vertex $z_1 \ne v$ in $G_1 + v$ with
  degree at most $2$ in $G_1 + v$.
  Similarly, there is a vertex $z_2$ in $G_2 + v$ for which the same holds.
  These vertices are of the same degree in $G$.

  In the second case, if there is no cut vertex, then there is no cut edge, and
  the boundary of the outer face is a Hamiltonian cycle.
  If there is no chord in this cycle, the statement is proven.
  Otherwise, let $xy$ be a chord.
  Consider the two cycles $H_1, H_2$ that the chord divides our Hamiltonian
  cycle into.
  Both are outerplanar, so using the induction hypothesis on each, we can find
  two nonadjacent vertices of degree at most $2$.
  They can't be adjacent to a vertex in the other part of the Hamiltonian cycle,
  as that edge would cross $xy$.
\end{proof}

\vprasanje{Show that a simple outerplanar graph has $\delta(G) \le 2$.}

\begin{theorem}[Euler]
  If $G$ is a connected plane graph, then
  \[
	n(G) + f(G) - m(G) = 2.
  \]
\end{theorem}

\begin{definition}
  A \pojem{subdivision} of $G$ is obtained by replacing some edges of $G$ with
  internally vertex-disjoint paths.
\end{definition}

\begin{definition}
  A \pojem{Kuratowski graph} is one which is a subdivision of $K_5$ or
  $K_{3,3}$.
\end{definition}

\begin{lemma}
  \label{lemma:tg-kuratowski-1}
  If $G$ is a planar graph and $e \in E(G)$, then there is an embedding of $G$
  such that $e$ is on the boundary of the outer face.
\end{lemma}

\begin{proof}
  Consider an embedding of $G$ and place a sphere on that plane, touching one of
  the faces adjacent to $e$.
  Project the entire drawing onto the sphere by taking the intersection of a
  line from a given point to the highest point on the sphere.
  Every face on the plane will correspond to a region of the sphere with the
  same set of boundary edges.
  Now project the surface of the sphere onto another plane above the sphere, by
  drawing a line through the bottom-most point of the sphere and another point
  of the sphere, and taking the intersection of that line with the new plane.
\end{proof}

\vprasanje{Show that for any edge $e$ of a planar graph, there is an embedding
  with $e$ on the boundary of the outer face.}

\begin{lemma}
  \label{lemma:tg-kuratowski-2}
  If $G$ is a minimal nonplanar graph, then it is $2$-connected.
\end{lemma}

\begin{proof}
  If $G$ is disconnected, it cannot be minimal nonplanar, as components are
  proper subgraphs, which would all be planar if $G$ was minimal.
  If $G$ has a cut vertex $v$, then consider the $v$-lobes (the subgraphs of $G$
  induced by each of the components of $G-v$, combined with $v$).
  By the minimality of $G$, all $v$-lobes are planar subgraphs.
  Lemma~\ref{lemma:tg-kuratowski-1} states that these graphs can be embedded in
  such a way that $v$ is on the outer face.
  We can transform each picture such that they all fit in a portion of the
  plane, so we can combine the drawings to find $G$ is planar.
\end{proof}

\vprasanje{Show that a minimal nonplanar graph is $2$-connected.}

\begin{lemma}
  \label{lemma:tg-kuratowski-3}
  If $S= \{x,y\}$ is a minimum vertex cut in $G$ and $G$ is nonplanar, then
  $G-S$ contains a component $G_i$ such that the $S$-lobe $H_i$, along with the
  edge $xy$, is nonplanar.
\end{lemma}

\begin{proof}
  Suppose to the contrary, that each $H_i + xy$ is planar.
  By the first lemma, we can embed all these graphs such that $xy$ is on the
  outer face.
  We can construct an embedding for $G+xy$ in the following way:
  \begin{itemize}
  \item Start with the embedding of $H_1 + xy$
  \item Choose a face in $H_1 + xy$ that borders $xy$.
	Then we may attach the embedding of $H_2 + xy$ onto that face without
	intersecting $H_1 + xy$.
  \item Continue this process.
  \end{itemize}
  So $G + xy$ is planar, and $G$ must be too.
\end{proof}

\vprasanje{Show that in a nonplanar graph with a cut set $S = \{x,y\}$, there
  is a lobe $H$ in $G - S$ such that $H + xy$ is nonplanar.}

\begin{lemma}
  \label{lemma:tg-kuratowski-4}
  If $G$ is a nonplanar graph without a Kuratowski subgraph and $G$ has the
  minimum number of edges under this condition, then it is $3$-connected.
\end{lemma}

\begin{proof}
  We know by lemma~\ref{lemma:tg-kuratowski-2} that $G$ is $2$-connected.
  Suppose that $S = \{x,y\}$ is a vertex cut.
  Again as before consider the $S$-lobes $H_1, H_2, \ldots$ with an added edge
  $xy$.
  By lemma~\ref{lemma:tg-kuratowski-3}, we know there is a graph $H_i + xy$
  which is not planar.
  By the minimality of $m(G)$, we know $H_i + xy$ has a Kuratowski subgraph, as
  it has fewer edges than $G$ (note that $S$ is a minimal vertex cut).
  Label that subgraph $F$.
  As it's not present in $G$ by assumption, it must include the edge $xy$.

  Consider another component $G_j$ of $G - S$.
  Since $S$ is a minimum vertex cut, both $x$ and $y$ have neighbours in $G_j$.
  Since $G_j$ is connected, there is an $x,y$-path in $H_j$ (not considering
  $xy$).
  We can replace $xy$ in $H_i + xy$ with that path, and get a Kuratowski graph.
  But this is a subgraph of $G$.
\end{proof}

\vprasanje{Suppose that $G$ is the graph with the smallest number of edges among
  all nonplanar graphs without a Kuratowski subgraph. Show that $G$ is
  $3$-connected.}

\begin{theorem}
  \label{theorem:tg-kuratowski-5}
  If $G$ is a $3$-connected graph with $n(G) \ge 5$, then there exists an edge
  $e \in E(G)$ such that $G \cdot e$ ($G$ with $e$ contracted) is $3$-connected.
\end{theorem}

\begin{proof}
  Suppose there is no such edge.
  Let $e = xy \in E(G)$.
  Since $G \cdot e$ is not $3$-connected, there is a vertex cut $S$ with $2$
  vertices.
  Let $w$ be the contracted vertex of $G \cdot e$.
  If $w \notin S$, then replacing $w$ with the original edge still leaves $G-S$
  disconnected, which can't happen.
  So $w \in S$.
  Let $S = \{w,z\}$.
  Then $S' = \{x,y,z\}$ is a vertex cut in $G$.

  We have shown that every edge $xy$ in $G$ has a mate, so a vertex $w$ such
  that $\{x,y,w\}$ is a disconnecting set.
  Let $f = uv$ be an edge with mate $z$ such that $G - \{u,v,z\}$ has the
  largest component among all edge and mate vertex cuts.
  Let $G_i$ be that largest component, and $G_j$ be some other component in $G -
  \{u,v,z\}$.
  Since $\{u,v,z\}$ is minimal, there is a vertex $z'$ of $G_j$ which is
  adjacent to $z$.
  Let $z^*$ be a mate for $zz'$ and let $H$ be the subgraph induced by $G_i \cup
  \{u,v\}$.
  Consider three cases.
  \begin{itemize}
  \item If $z^* \in V(H)$ and $H - z^*$ is disconnected, then $G - \{z,z^*\}$ is
	disconnected, as at least one component of $H - z^*$ has edges only to $z$,
	not $u$ or $v$.
	But $G$ is $3$-connected, so this can't happen.
  \item If $z^* \in V(H)$, but $H - z^*$ is connected, then we can similarly
	show that $\{z,z'\}$ is a disconnecting set.
  \item If $z^* \notin V(H)$, then $G - \{z,z',z^*\}$ has a component which
	includes the entire $H$, but $n(H) > n(G_i)$, so our choice for $\{u,v,z\}$
	wasn't optimal.
  \end{itemize}
  In each case, we got a contradiction.
\end{proof}

\vprasanje{Show that in any $3$-connected graph on at least $5$ vertices, there
  is an edge which we can contract and still have a $3$-connected graph.}

\begin{lemma}
  \label{lemma:tg-kuratowski-6}
  If $G$ contains no Kuratowski subgraphs and $e \in E(G)$, then $G \cdot e$
  contains no Kuratowski subgraph.
\end{lemma}

\begin{proof}
  Let $e = xy$ and let $w$ be the contracted vertex in $G \cdot e$.
  Suppose that $G \cdot e$ contains a Kuratowski subgraph $F$.
  \begin{itemize}
  \item If $F$ doesn't contain $w$, then $F$ is present in $G$.
  \item If $w \in V(F)$ and $\deg_F(w) = 2$, then we just uncontract the edge
	and find a Kuratowski subgraph in $G$.
  \item If $w \in V(F)$ and $\deg_F(w) \ge 3$, consider three subcases.
	\begin{itemize}
	\item If $N_F(w) \subseteq N_G(x)$ or symmetrically for $y$, then we may
	  replace $w$ by $x$ and find a Kuratowski subgraph in $G$.
	\item If all but one neighbour of $w$ is a neighbour of $x$ in $G$, then we
	  can subdivide the edge going into the neighbour of $y$ and find a
	  Kuratowski subgraph of $G$.
	\item Otherwise, since $F$ is Kuratowski, $\Delta(F) \le 4$.
	  In this case, we therefore have precisely two $x$-neighbours and two
	  $y$-neighbours.
	  Label them $x_1, x_2, y_1, y_2$.
	  In this case, $F$ must be a subdivision of $K_5$.

	  Consider the first branch vertices (those of degree at least $3$) along
	  the paths $w x_1 \ldots x_1'$, $w x_2 \ldots x_2'$, $w y_1 \ldots y_1'$,
	  $w y_2 \ldots y_2'$.
	  These paths are unique as possible intermediate vertices are of degree
	  $2$.
	  Since they were part of a subdivision of $K_5$ in $F$, there are disjoint
	  paths between any two of these vertices.
	  We can use them to find a subdivision of $K_{3,3}$, with the partite
	  classes being $(x,y_1', y_2')$ and $(y, x_1', x_2')$.
	  \qedhere
	\end{itemize}
  \end{itemize}
\end{proof}

\vprasanje{Show that edge contraction preserves the property that a graph has no
  Kuratowski subgraphs.}

\begin{theorem}
  \label{theorem:tg-kuratowski-7}
  If $G$ is a $3$-connected graph without Kuratowski subgraphs, then there
  exists a convex embedding of $G$ such that no $3$ vertices are on a line.
\end{theorem}

\begin{proof}
  Use induction on $n(G)$.
  The base case is $n(G) = 4$, which is just $K_4$.
  For the induction step, since $G$ is $3$-connected, there is an edge $e \in
  E(G)$ such that $G \cdot e$ is $3$-connected.
  Let $e = xy$ and let $z$ be the contracted vertex.
  Since $G$ has no Kuratowski subgraph, $G \cdot e$ has no Kuratowski subgraph.
  By the induction hypothesis, there is a convex embedding for $G \cdot e$ with
  no $3$ vertices on a line.

  Since $G \cdot e$ is $3$-connected, $G \cdot e - z$ is $2$-connected, so if we
  remove the edges incident to $z$ from $G \cdot e$, the region containing $z$
  must be a cycle.
  Let $x_1, x_2, \ldots, x_k$ be the neighbours of $x$ on the cycle, labeled in
  cyclic order.
  Consider the following cases for the neighbours of $y$.
  \begin{itemize}
  \item If all neighbours of $y$ are between $x_i$ and $x_{i+1}$, then we can
	find a convex embedding for $G$ by drawing $y$ inside the $x_i x x_{i+1}$
	angle, and very near $x$, while drawing $x$ in $z$'s place.
	We can ensure that the resulting drawing has convex faces and no three
	points in a line.
  \item If $x$ and $y$ have at least $3$ common neighbours, then they form a
	subdivision of $K_5$ along with $x$ and $y$.
  \item If there are two neighbours $x_1', x_2'$ of $x$ and two neighbours of
	$y$, $y_1, y_2$, which are four different vertices such that the cyclic
	order is $x_1' y_1 x_2' y_2$, this induces a subdivision of $K_{3,3}$, which
	is a Kuratowski subgraph.
	\qedhere
  \end{itemize}
\end{proof}

\vprasanje{Show that a $3$-connected graph without Kuratowski subgraphs can be
  embedded into the plane such that all interior faces are convex and no $3$
  vertices are on a line.}

\begin{theorem}[Kuratowski]
  A graph is planar if and only if it contains no Kuratowski subgraph.
\end{theorem}

\begin{proof}
  Note that a subdivision of $G$ is planar if and only if $G$ is planar, which
  proves the left-to-right implication.
  For the other direction, suppose there exist nonplanar graphs without
  Kuratowski subgraphs.
  We've shown that the minimal such graph must be $3$-connected, so by the
  previous theorem, it is planar.
  This is a contradiction.
\end{proof}

\vprasanje{State and prove Kuratowski's theorem.}

\begin{definition}
  A graph $H$ is a \pojem{minor} in $G$ if we can obtain $H$ after deleting and
  contracting edges in $G$.
\end{definition}

\begin{proposition}
  If $G$ contains a subdivision of a graph $F$ as a subgraph, then $F$ is a
  minor in $G$.
\end{proposition}

\begin{proof}
  We can contract the edges of between two subdivision vertices or between a
  subdivision vertex and a non-subdivision vertex.
\end{proof}

\begin{remark}
  The opposite implication is not true.
  The Petersen graph has $K_5$ as a minor, but no subgraph is a subdivision of
  $K_5$.
\end{remark}

\vprasanje{Show that if $G$ contains a subdivision of $F$ as a subgraph, then
  $F$ is a minor in $G$, but that the reverse doesn't hold.}

\begin{theorem}[Wagner]
  A graph $G$ is planar if and only if neither $K_5$ nor $K_{3,3}$ are a minor
  of $G$.
\end{theorem}

\vprasanje{State Wagner's theorem.}

\begin{theorem}[four-colour theorem]
  If $G$ is a planar graph, then $\chi(G) \le 4$.
\end{theorem}

\begin{theorem}
  If $G$ is a planar graph, then $\chi(G) \le 5$.
\end{theorem}

\begin{proof}
  If $G$ is a planar graph, then by Euler's formula, we get $m(G) \le 3n(G) -
  6$, so $\delta(G) \le 5$.
  Induction on $n(G)$.
  Consider a vertex $v \in V(G)$ of degree at most $5$.
  By the induction hypothesis, there is a $5$-colouring of $G-v$.
  If $N(v)$ uses fewer than $5$ colours, we can use a missing colour for $v$.
  Otherwise, $\deg_G(v) = 5$ and the neighbours $v_1, \ldots, v_5$, numbered
  cyclically, have colours $1, \ldots, 5$.

  Let $G_{1,3}$ be the subgraph of $G$ induced by the vertices with colours $1$
  and $3$.
  Consider two cases.
  \begin{itemize}
  \item If $v_1$ and $v_3$ are in different components of $G_{1,3}$, then we may
	switch the colours in one of the two components, and we get a $5$-colouring
	of $G$ where $N(v)$ is coloured with $4$ colours.
  \item If $v_1$ and $v_3$ belong to the same component, there is a
	$v_1,v_3$-path in $G_{1,3}$, where vertices alternate between colours $1$
	and $3$.
	In the original graph, this path forms a cycle with $v$.
	One of $v_2, v_4$ must be inside this cycle, and the other outside.
	This means $v_2, v_4$ are in different components of $G_{2,4}$, since any
	$v_2,v_4$-path would need to cross the cycle, so share a common vertex with
	it, which can't happen, as $G_{1,3}$ and $G_{2,4}$ have no common vertices.
	This means we can use the previous construction for $G_{2,4}$.
	\qedhere
  \end{itemize}
\end{proof}

\vprasanje{Prove the $5$-color theorem.}

\begin{definition}
  A graph $G$ is a \pojem{maximal planar graph} if $G$ is planar and for any $e
  \in E(\cl{G})$, $G+e$ is not a planar graph.
\end{definition}

\begin{definition}
  An embedding of $G$ is a \pojem{triangulation} if every face has a boundary
  that is a $3$-cycle.
\end{definition}

\begin{proposition}
  Let $G$ be a planar graph with $n(G) \ge 3$.
  Then the following statements are equivalent.
  \begin{itemize}
  \item $m(G) = 3n(G) - 6$,
  \item every embedding of $G$ is a triangulation,
  \item there is an embedding of $G$ that is a triangulation,
  \item $G$ is a maximal planar graph.
  \end{itemize}
\end{proposition}

\begin{proof}
  Note that
  \[
	m = 3n - 6 \iff \sum_{\text{$F$ face}} l(F) = 3f
	\iff \text{every face has length $3$}.
  \]
  Since the embedding is arbitrary, this proves the equivalence of the first
  three statements.

  1 to 4:
  If we add an edge, we will have more edges than we can in a planar graph.

  4 to 2:
  Suppose there is an embedding that isn't a triangulation.
  Then we may add an edge to a face which is a cycle with at least $4$ vertices
  (it may be a degenerate cycle).
\end{proof}

\vprasanje{Characterize maximal planar graphs.}

% LocalWords:  Eulerian outerplanar nonplanar neighbours uncontract
% LocalWords:  Kuratowski's
